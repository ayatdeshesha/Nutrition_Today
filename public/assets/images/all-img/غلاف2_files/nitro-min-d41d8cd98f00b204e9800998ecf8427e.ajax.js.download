function gettyGetRelated(t,e){var a=document.querySelector(".sp-image-wrap");var n=document.querySelector(".sp-image");n.oncontextmenu=function(){return false};a.oncontextmenu=function(){return false};n.ondragstart=function(){return false};if(e!=="on"){jQuery("#getty-images").remove();return}jQuery.ajax({url:getty.ajaxurl,type:"POST",data:{action:"getty_related",query:t,page:1,screen:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||600},success:function(t){jQuery("#getty-loading").remove();jQuery("#getty-list").html(t);jQuery("#getty-results").show();jQuery("#show-all-text").show()},error:function(t){console.error("error:"+t);jQuery("#getty-images").remove()}})}function gettyGetRelatedTop(t,e){var a=document.querySelector(".sp-image-wrap");var n=document.querySelector(".sp-image");n.oncontextmenu=function(){return false};a.oncontextmenu=function(){return false};n.ondragstart=function(){return false};if(e!=="on"){jQuery("#getty-images-top").remove();return}jQuery.ajax({url:getty.ajaxurl,type:"POST",data:{action:"getty_related_top",query:t,page:6,screen:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||600},success:function(t){jQuery("#getty-loading_top").remove();jQuery("#getty-list_top").html(t);jQuery("#getty-results_top").show();jQuery("#show-all-text_top").show()},error:function(t){console.error("error:"+t);jQuery("#getty-images_top").remove()}})}function gettyGetSearchResults(t,e,a,n,o){e=parseInt(e);a=parseInt(a);jQuery.ajax({url:getty.ajaxurl,type:"POST",data:{action:"getty_search",query:t,page:e,order:o,screen:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||600},success:function(o){o=JSON.parse(o);if(o.total_count===0){jQuery("#getty-images").remove();return}var i=Math.ceil(o.total_count/o.layout_count);jQuery("#getty-results").html(o.response).show();jQuery("#show-all-text").show();jQuery("#getty-loading").hide();if(n){handlePagination(t,e,a,i)}},error:function(t){console.error(t);jQuery("#getty-images").remove()}})}function gettyGetCompactSearchResults(t,e,a,n,o){e=parseInt(e);a=parseInt(a);jQuery.ajax({url:getty.ajaxurl,type:"POST",data:{action:"getty_search_compact",query:t,page:e,order:o,screen:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||600},success:function(o){o=JSON.parse(o);if(o.total_count===0){jQuery("#getty-images-compact").remove();return}var i=Math.ceil(o.total_count/o.layout_count);jQuery("#getty-results-compact").html(o.response).show();jQuery("#show-all-text").show();jQuery("#getty-loading-compact").hide();if(n){handlePagination(t,e,a,i)}},error:function(t){console.error(t);jQuery("#getty-images-compact").remove()}})}function gettyGetMostPopular(t,e,a,n,o){e=parseInt(e);a=parseInt(a);jQuery.ajax({url:getty.ajaxurl,type:"POST",data:{action:"getty_popular",query:t,page:e,order:o,screen:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||600},success:function(o){o=JSON.parse(o);if(o.total_count===0){jQuery("#getty-images").remove();return}var i=Math.ceil(o.total_count/o.layout_count);jQuery("#getty-results").html(o.response).show();jQuery("#show-all-text").show();jQuery("#getty-loading").hide();if(n){handlePagination(t,e,a,i)}},error:function(t){console.error(t);jQuery("#getty-images").remove()}})}function handlePagination(t,e,a,n){e=e||1;jQuery(".pagination-button-wrap").show();jQuery(".pagination-getty-images").remove();if(a<=1){addPagination(t,a,n)}var o=jQuery(".pagination-number");if(o.length<5){addPages(5-o.length,o.length,t,a,n)}var i=Math.max(a,3)-e;var r=Math.abs(i);if(i<0){var u=Math.min(5,r);var c=e+Math.max(-3,2+i);if(n-e<2){u=5;c=n-5}jQuery(".pagination-number").slice(0,u).hide();addPages(u,c,t,a,n)}if(n>1&&e>=a&&e<n){jQuery(".pagination-next").hide();addNextButton(e,t,a,n)}if(e>a+1){jQuery(".pagination-back").hide();jQuery(".pagination-first").hide();addFirtsButton(t,a,n);addBackButton(e,t,a,n)}if(e>a){setActual(e)}}function addPages(t,e,a,n,o){var i=e+t;for(e;e<i;e++){addPage(e+1);addCallback(e+1,a,n,o)}}function addPage(t){jQuery(".pagination-number").last().after('<li id="getty-pagination-'+t+'" class="pagination-button-wrap pagination-number pagination-getty-images">'+'<button class="pagination-button button">'+t+"</button>"+"</li>")}function addCallback(t,e,a,n,o){o=o||"#getty-pagination-";jQuery(o+t).click(function(){jQuery("#getty-results").hide();jQuery("#getty-loading").show();gettyGetSearchResults(e,t,a,n)})}function addPagination(t,e,a){var n=1;jQuery("#getty-loading").after('<ul class="pagination pagination-getty-images">'+'<li id="getty-pagination-'+n+'" class="pagination-button-wrap pagination-number pagination-getty-images actual"><button class="pagination-button button">'+n+"</button></li>"+"</ul>");addCallback(n,t,e,a)}function addNextButton(t,e,a,n){t+=1;jQuery(".pagination-number").last().after('<li id="getty-pagination-next-'+t+'" class="pagination-button-wrap pagination-next pagination-link pagination-getty-images">'+'<button class="pagination-button-next button">Next Page</button>'+"</li>");addCallback(t,e,a,n,"#getty-pagination-next-")}function addFirtsButton(t,e,a){jQuery(".pagination-number").first().before('<li id="getty-pagination-first-'+1+'" class="pagination-button-wrap pagination-first pagination-getty-images">'+'<a class="pagination-button button">&lt;&lt;</a>'+"</li>");addCallback(1,t,e,a,"#getty-pagination-first-")}function addBackButton(t,e,a,n){t-=1;jQuery(".pagination-first").first().after('<li id="getty-pagination-back-'+t+'" class="pagination-button-wrap pagination-back pagination-getty-images">'+'<a class="pagination-button button">&lt;</a>'+"</li>");addCallback(t,e,a,n,"#getty-pagination-back-")}function setActual(t){jQuery(".actual").removeClass("actual");jQuery("#getty-pagination-"+t).addClass("actual")}